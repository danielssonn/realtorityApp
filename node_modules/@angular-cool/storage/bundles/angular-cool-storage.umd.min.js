!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("rxjs"),require("tslib"),require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define("@angular-cool/storage",["exports","rxjs","tslib","@angular/core","@angular/common"],t):t((e["angular-cool"]=e["angular-cool"]||{},e["angular-cool"].storage={}),null,e.tslib,e.ng.core,e.ng.common)}(this,function(e,r,o,t,n){"use strict";var i=function(){function e(e,t){if(!e)throw new Error("Current browser does not support "+t);this._storageObject=e,this._itemSetSubject=new r.Subject,this._itemRemovedSubject=new r.Subject}return Object.defineProperty(e.prototype,"itemSetObservable",{get:function(){return this._itemSetSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemRemovedObservable",{get:function(){return this._itemRemovedSubject.asObservable()},enumerable:!0,configurable:!0}),e.prototype.getItem=function(e){return this._storageObject.getItem(e)||null},e.prototype.setItem=function(e,t){this._itemSetSubject.next({key:e,value:t}),this._setItemInStorage(e,t)},e.prototype.removeItem=function(e){var t=this.tryGetObject(e);t||(t=this.getItem(e)),this._itemRemovedSubject.next({key:e,value:t}),this._storageObject.removeItem(e)},e.prototype.key=function(e){return this._storageObject.key(e)},e.prototype.clear=function(){this._storageObject.clear()},Object.defineProperty(e.prototype,"length",{get:function(){return this._storageObject.length},enumerable:!0,configurable:!0}),e.prototype.getObject=function(e){var t=this.getItem(e);return null===t?null:JSON.parse(t)},e.prototype.tryGetObject=function(e){try{return this.getObject(e)}catch(t){return null}},e.prototype.setObject=function(e,t){this._itemSetSubject.next({key:e,value:t}),this._setItemInStorage(e,JSON.stringify(t))},e.prototype._setItemInStorage=function(e,t){this._storageObject.setItem(e,t)},e}(),s=function(){function e(){this._storageObject={}}return e.prototype.getItem=function(e){return this._storageObject[e]||null},e.prototype.setItem=function(e,t){this._storageObject[e]=t},e.prototype.removeItem=function(e){this._storageObject[e]=undefined},e.prototype.key=function(e){return this._storageObject.key(e)},e.prototype.clear=function(){this._storageObject={}},Object.defineProperty(e.prototype,"length",{get:function(){return Object.keys(this._storageObject).length},enumerable:!0,configurable:!0}),e}(),c=function(t){function e(e){return n.isPlatformBrowser(e)?t.call(this,window.localStorage,"LocalStorage")||this:t.call(this,new s,"LocalStorage")||this}return o.__extends(e,t),e}(i);c.decorators=[{type:t.Injectable}],c.ctorParameters=function(){return[{type:undefined,decorators:[{type:t.Inject,args:[t.PLATFORM_ID]}]}]};var u=function(t){function e(e){return n.isPlatformBrowser(e)?t.call(this,window.sessionStorage,"SessionStorage")||this:t.call(this,new s,"SessionStorage")||this}return o.__extends(e,t),e}(i);u.decorators=[{type:t.Injectable}],u.ctorParameters=function(){return[{type:undefined,decorators:[{type:t.Inject,args:[t.PLATFORM_ID]}]}]};var a=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[]}},e}();a.decorators=[{type:t.NgModule,args:[{providers:[c,u]}]}],e.CoolLocalStorage=c,e.CoolSessionStorage=u,e.CoolStorageModule=a,e.Éµa=i,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=angular-cool-storage.umd.min.js.map
